<div class="row">
  <div class="col-xs-6 text-center bor-r">
       <h4>
      <%= page_entries_info @results %>
    </h4>

      <%= will_paginate @results, params: {module: @module, heading: @heading, q: @q} %>
  </div>
  <div class="col-xs-6 row-top ">
        <h4>Filtered by</h4>
        <%= filtered_by(@q) %>
  </div>     
</div>
<br/>
<div class="row">
      <div class="well scrollable">
        <table class="table table-hover dataTable t3000">
          <thead>
            <tr>
              <th><%= check_box_tag :tr %> </th>
              <% cols.except(:associations).each do |c| %>
                <% name = (c[1].size == 4 ? c[1][1].underscore + "_name" : c[0]).to_sym %>             
                <th><%= f.sort_link name,name.to_s.titleize,{page: 1},{remote: true} %></th>              
              <% end %>
            </tr>
          </thead>
          <tbody>
            <% results.each do |i| %>                             
              <tr>
                <td><%= check_box_tag :tr %></td>                
                <% cols.except(:associations).each do |col| %>
                  <td> <%= i.send(col[0]) %> </td>                                   
                <% end %> 
              </tr>
            <% end %>
          </tbody>
        </table>      
      </div>    
</div>

<script>
    $('.pagination a').attr('data-remote', 'true'); 
    $('.pagination .previous_page').text('« prev');
    $('.pagination .next_page').text('next »');
    $('.pagination').each(function () {
      var $bar = $(this);
      $bar.find('a, .current, span').wrapAll('<ul class="nav nav-pills seperator">');
      $bar.find('a, .current, span').wrap('<li>');

      $bar.find('em').each(function () {
        $(this).parent().addClass('active');
        $(this).replaceWith('<a href="#">' + $(this).text() + '</a>');
      });
    });
    
    $('span.previous_page,span.next_page').replaceWith("");
</script>